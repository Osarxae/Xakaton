# Система определения подсудности

Этот проект представляет собой инструмент для автоматического определения подсудности судов на основе адреса должника и суммы задолженности. Он разработан для платформы «Взыскатор» командой разработчиков Shlupka-team.

## Требования

- **Аппаратные**: 
  - 2 CPU
  - 4 ГБ RAM
  - 50 ГБ SSD
- **Программные**:
  - Python 3.12
  - Docker (опционально, для контейнеризации)
  - Git

## Установка

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/Osarxae/Xakaton.git
   cd Xakaton

2. Установите зависимости:
Убедитесь, что у вас установлен Python 3.12.
Установите зависимости из файла requirements.txt:

bash
pip install -r requirements.txt

3. (Опционально) Настройте виртуальное окружение:
bash
python -m venv venv
source venv/bin/activate  # Для Linux/macOS
venv\Scripts\activate     # Для Windows

Запуск

Запустите Docker Desktop:
Убедитесь, что Docker Desktop установлен и работает на вашем компьютере.
Соберите и запустите контейнеры:
В корне проекта выполните команду:
bash
docker-compose up --build

Это соберёт и запустит контейнеры для API.

Проверьте работу API:
Откройте браузер и перейдите по адресу http://127.0.0.1:8000/docs, чтобы ознакомиться с документацией Swagger.
Используйте эндпоинт POST /api/courts/find_court/ для отправки запросов.


Запуск в другом окне GUI
Запустите графический интерфейс:
bash
python gui/main.py

Как использовать:
Введите адрес должника (поддерживается базовое автодополнение).
Укажите сумму задолженности.
Выберите тип дела.
Нажмите кнопку "Найти суд".
Результат отобразится на экране и на карте.

Примеры использования
Через GUI
Введите адрес: "Ростов-на-Дону, ул. Пушкинская, 3".
Укажите сумму: 40000.
Выберите тип дела: "имущественный_спор".
Нажмите "Найти суд".
Получите информацию о суде и его местоположение на карте.

Через API
Запрос:

bash
curl -X 'POST' \
  'http://127.0.0.1:8000/api/courts/find_court/' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "address": "Ростов-на-Дону, ул. Ленина, 1",
  "debt_amount": 30000.0,
  "case_type": "имущественный_спор"
}'
Ответ:

json
{
  "status": "success",
  "court": {
    "name": "Судебный участок № 1 Ленинского судебного района г. Ростова-на-Дону",
    "type": "мировой",
    "address": "344011, г. Ростов-на-Дону, ул. Лермонтовская, д. 11",
    "phone": "267-68-32",
    "email": "len1-1.msudro@donland.ru",
    "website": "http://len1-1.ros.msudrf.ru",
    "electronic_filing": "да",
    "latitude": 47.226533,
    "longitude": 39.692456,
    "polygon": ""
  }
}
О
бновление данных
Чтобы обновить данные о судах, выполните следующие шаги:

Подготовьте новый файл GeoJSON с актуальными данными о судах.

Запустите скрипт обновления:
bash
python scripts/load_courts.py --geojson путь/к/новому_файлу.geojson
Перезапустите API, чтобы изменения вступили в силу.

Частые проблемы

Ошибка геокодирования:
Проверьте правильность введённого адреса. Если ошибка сохраняется, убедитесь, что есть доступ к интернету (используется внешний сервис geopy).
Используйте рабочий ключ API от Яндекса.

Суд не найден:
Убедитесь, что файл courts_rostov.json загружен и содержит актуальные данные. Попробуйте обновить его с помощью скрипта.
API не запускается:
Проверьте, что порт 8000 свободен и все зависимости из requirements.txt установлены.
